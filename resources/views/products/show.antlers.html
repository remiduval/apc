<article>
    <div class="max-w-4xl mx-auto my-12">
        <div class="flex flex-row items-stretch">
            <div class="md:w-1/2 bg-gray-200 p-4 flex flex-wrap justify-center items-center">
                {{ gallery }}
                    <img
                        class="my-2 h-32 {{ page:gallery }}{{ if last }}{{ if count === 1 }} h-82 {{ elseif count === 2 }} w-1/2 {{ elseif count === 3 }} w-1/3 {{ /if }}{{ /if }}{{ /page:gallery }}"
                        src="{{ url }}"
                        alt="{{ alt }}"
                        data-zoomable="true"
                    >
                {{ /gallery }}
            </div>
            <div class="md:w-1/2 px-6">
                <h1 class="text-3xl font-semibold mb-1">{{ title }}</h1>
                <h3 class="text-lg font-semibold">
                    {{ if product_variants }}
                        From {{ product_variants:options }}{{ if first }}{{ price }}{{ /if }}{{ /product_variants:options }}
                    {{ else }}
                        {{ price }}
                    {{ /if }}
                </h3>
                <div class="py-4 text-sm">
                    {{ description }}
                </div>

                {{ sc:cart:addItem class="border-t border-gray-200 py-4 flex justify-between items-center" redirect="/cart" }}
                    <input type="hidden" name="product" value="{{ id }}">

                    <div class="flex flex-col">
                        {{ if product_variants }}
                            <div class="flex flex-row items-center mb-2">
                                <label class="text-gray-700 mr-3 font-semibold w-1/2" for="variant">Variant</label>

                                <select id="variant" class="bg-gray-200 p-1 rounded w-16" name="variant">
                                    {{ product_variants:options }}
                                        <option value="{{ key }}">{{ variant }} ({{ price }})</option>
                                    {{ /product_variants:options }}
                                </select>
                            </div>
                        {{ /if }}

                        <div class="flex flex-row items-center mb-2">
                            <label class="text-gray-700 mr-3 font-semibold w-1/2" for="quantity">Quantity</label>

                            <select id="quantity" class="bg-gray-200 p-1 rounded w-16" name="quantity">
                                {{ loop from="1" to="5" }}
                                    <option value="{{ value }}">{{ value }}</option>
                                {{ /loop }}
                            </select>
                        </div>
                    </div>

                    <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold px-4 py-2 focus:outline-none">Add to Cart</button>
                {{ /sc:cart:addItem }}
            </div>
        </div>
    </div>
</article>
